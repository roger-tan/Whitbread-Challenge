# Whitbread-Challenge
This is a iOS Test Challenge of Whitbread (https://github.com/whitbread-eos/product-developer-test)

# Demo

![out](https://cloud.githubusercontent.com/assets/3829527/17584131/de145c94-5fac-11e6-88c9-bf3df457da72.gif)

# Requirements
- A Terminal (Pre-installed on a Mac)
- XCode 7.3 or more (You can find on Mac App Store)
- [Cocoapods](https://cocoapods.org/#install) 1.0 or more

# How to setup the project

Be sure that cocoapods is installed on your computer by using this command line on your Terminal

`$ pod --version` 

It should display the current version number installed on your computer like:

`$ 1.0.1`

If you can't see the version number, please check the instruction of this [instruction](https://cocoapods.org/#install )

The next step is to install the dependencies of the project by executing the following command line

`$ pod install`

By executing this command line, Cocoapods will install all dependencies need it by the project. After the project is set up by Cocoapods. **Please open the file Whitbread-Challenge.xcworkspace** or execute this command line

`$ open Whitbread-Challenge.xcworkspace` 

You are almost ready to run the project. If you plan to run on Device, you have nothing to do, but on Simulator, before to execute, please be sure that a location is setup. 

Please verify on Xcode Menu > Debug > Simulate Location > London, England.

![screenshot 2016-08-11 10 08 00](https://cloud.githubusercontent.com/assets/3829527/17583968/d200d60e-5fab-11e6-914f-571e3890016f.png)

To run the project, please click on **Run button** or use the shortcut **⌘ + R**
![screenshot 2016-08-11 10 11 37](https://cloud.githubusercontent.com/assets/3829527/17584015/053e7d32-5fac-11e6-81fb-b252c5426114.png)


# Approach 

- First, I tried to understand the Foursquare API by reading the documentation
- Second, I generated the models by using this [tool](https://github.com/insanoid/SwiftyJSONAccelerator)
- Third, I decided to use Moya because Moya simplified all HTTP request. Explanation can be found [here](https://github.com/Moya/Moya/blob/master/Readme.md)
- After that, I decided to create the provider and try to get a response from Foursquare API without to use the current location of user
- When the request works. I converted all the response into models by using SwiftyJSON and models generated by SwiftJSONAccelerator
- Then, I decided to use a tableView to display the result
- When the result is displayed, I started to implement the CLLocationManager to get the current location of the user.
- After that, when I was sure that the location update works, I started to change the parameter of the provider to get venues with the location of users.
- And Voilà


